<!doctype html><html lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content="light dark" name=color-scheme><title>Typesafe Frontend Routing in Rust/Leptos</title><link href=/img/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=/img/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=/img/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><style>body{--primary-color:#5871a2;--primary-pale-color:#5871a210;--text-color:#3c4043;--text-pale-color:#a3a5a9;--bg-color:#fff;--highlight-mark-color:#5f75b035;--blockquote-color:#8e8d91;--callout-note-color:#5871a2;--callout-important-color:#8062b0;--callout-warning-color:#936e51;--callout-alert-color:#bc5252;--callout-question-color:#477389;--callout-tip-color:#3c8460}body.dark{--primary-color:#5d77ac;--primary-pale-color:#5d77ac20;--text-color:#9197a5;--text-pale-color:#656a74;--bg-color:#18191b;--highlight-mark-color:#5f75b035;--blockquote-color:#747983;--callout-note-color:#5d77ac;--callout-important-color:#8062b0;--callout-warning-color:#936e51;--callout-alert-color:#bc5252;--callout-question-color:#477389;--callout-tip-color:#3c8460}body{--main-font:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--code-font:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--homepage-max-width:768px;--main-max-width:768px;--avatar-size:56px;--homepage-font-size:16px;--homepage-line-height:1.75;--paragraph-font-size:16px;--paragraph-line-height:1.75;--aside-font-size:15px;--img-border-radius:0px;--detail-border-radius:0px;--dark-mode-img-brightness:.75;--dark-mode-chart-brightness:.75;--inline-code-border-radius:2px;--inline-code-bg-color:var(--primary-pale-color);--block-code-border-radius:0px;--block-code-border-color:var(--primary-color);--detail-border-color:var(--primary-color)}</style><link href=/main.css rel=stylesheet><link href=/hl-light.css id=hl rel=stylesheet><body class=post><script>const theme=sessionStorage.getItem(`theme`);const match=window.matchMedia(`(prefers-color-scheme: dark)`).matches;if(theme&&theme==`dark`||!theme&&match){document.body.classList.add(`dark`);const a=document.querySelector(`link#hl`);if(a)a.href=`/hl-dark.css`}</script><header><div id=header-wrapper><nav><a class=instant href=/>dnaaun</a><span class=separator>::</span><a class=instant href=/posts>posts</a></nav><div id=btns><button aria-label="theme switch" id=theme-toggle><span class=moon-icon><svg viewbox="0 0 24 24" height=20 width=20 xmlns=http://www.w3.org/2000/svg><path d="M10 7C10 10.866 13.134 14 17 14C18.9584 14 20.729 13.1957 21.9995 11.8995C22 11.933 22 11.9665 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C12.0335 2 12.067 2 12.1005 2.00049C10.8043 3.27098 10 5.04157 10 7ZM4 12C4 16.4183 7.58172 20 12 20C15.0583 20 17.7158 18.2839 19.062 15.7621C18.3945 15.9187 17.7035 16 17 16C12.0294 16 8 11.9706 8 7C8 6.29648 8.08133 5.60547 8.2379 4.938C5.71611 6.28423 4 8.9417 4 12Z" fill=currentColor></path></svg></span> <span class=sun-icon><svg viewbox="0 0 24 24" height=20 width=20 xmlns=http://www.w3.org/2000/svg><path d="M12 18C8.68629 18 6 15.3137 6 12C6 8.68629 8.68629 6 12 6C15.3137 6 18 8.68629 18 12C18 15.3137 15.3137 18 12 18ZM12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16ZM11 1H13V4H11V1ZM11 20H13V23H11V20ZM3.51472 4.92893L4.92893 3.51472L7.05025 5.63604L5.63604 7.05025L3.51472 4.92893ZM16.9497 18.364L18.364 16.9497L20.4853 19.0711L19.0711 20.4853L16.9497 18.364ZM19.0711 3.51472L20.4853 4.92893L18.364 7.05025L16.9497 5.63604L19.0711 3.51472ZM5.63604 16.9497L7.05025 18.364L4.92893 20.4853L3.51472 19.0711L5.63604 16.9497ZM23 11V13H20V11H23ZM4 11V13H1V11H4Z" fill=currentColor></path></svg></span></button><button aria-label="table of content" id=toc-toggle><svg viewbox="0 0 24 24" height=20 width=20 xmlns=http://www.w3.org/2000/svg><path d="M3 4H21V6H3V4ZM3 11H15V13H3V11ZM3 18H21V20H3V18Z" fill=currentColor></path></svg></button></div></div></header><div id=wrapper><div id=blank></div><aside><nav><ul><li><a class=h2 href=#tl-dr-and-take-away>TL;DR and take-away</a><li><a class=h2 href=#what-do-i-mean-by-typesafe-routing>What do I mean by "typesafe routing"?</a><li><a class=h2 href=#an-explainer-on-outlets-layouts>An explainer on outlets/layouts</a><li><a class=h2 href=#what-does-the-type-safe-routing-for-leptos-prototype-look-like>What does the "type-safe routing for leptos" prototype look like?</a> <ul><li><a class=h3 href=#defining-routes>Defining routes</a><li><a class=h3 href=#constructing-type-checked-urls>Constructing type-checked URLs</a><li><a class=h3 href=#type-safe-access-to-route-params>Type-safe access to route params</a><li><a class=h3 href=#passing-arguments-to-outlets>Passing arguments to outlets</a></ul><li><a class=h2 href=#fundamental-shortcomings-of-approach>Fundamental shortcomings of approach</a></ul></nav><button aria-label="back to top" id=back-to-top><svg viewbox="0 0 24 24" height=24 width=24 xmlns=http://www.w3.org/2000/svg><path d="M11.9997 10.8284L7.04996 15.7782L5.63574 14.364L11.9997 8L18.3637 14.364L16.9495 15.7782L11.9997 10.8284Z" fill=currentColor></path></svg></button></aside><main><div><div data-check-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M10.0007 15.1709L19.1931 5.97852L20.6073 7.39273L10.0007 17.9993L3.63672 11.6354L5.05093 10.2212L10.0007 15.1709Z" fill="currentColor"></path></svg>' data-copy-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z" fill="currentColor"></path></svg>' id=copy-cfg style=display:none></div><article data-backlink-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M9.41421 8L18.0208 16.6066L16.6066 18.0208L8 9.41421V17H6V6H17V8H9.41421Z" fill="currentColor"></path></svg>' class=prose><h1>Typesafe Frontend Routing in Rust/Leptos</h1><div id=post-info><div id=date><span id=publish>2025-01-20</span></div></div><p>Presumed audience background: familiarity with web development, and Rust.<h2 id=tl-dr-and-take-away>TL;DR and take-away<a aria-label="Anchor link for: tl-dr-and-take-away" class=zola-anchor href=#tl-dr-and-take-away style=visibility:hidden></a></h2><p>I prototyped a type-safe routing solution for <a rel="nofollow noreferrer" href=https://github.com/leptos-rs/leptos/><em>leptos</em></a>, the full-stack Rust web framework. The approach comprises:<ol><li>a DSL for defining routes parsed with a macro,<li>magic handler functions,<li>a macro to construct typesafe URLs.</ol><p>If a better alternative for typed routing wasn't available, I personally would think the benefits of type safety outweigh the downsides of the approach (ie, consequences of macro and trait magic). I'm keen to see how <a rel="nofollow noreferrer" href=https://github.com/geoffreygarrett/leptos-routable/blob/main/examples/basic-nested-router/src/lib.rs><em>leptos-routable</em></a> will shape up, because it also takes aim at type-safe routing in <em>leptos</em>. And I suspect it will end up as the better approach.<p>You can take a look at how it looks in <a rel="nofollow noreferrer" href=https://github.com/dnaaun/heimisch/blob/8a4e444146875a46a19fbf7e87908cd520b34813/web/src/app/routing.rs#L19>an actual codebase here</a>.<h2 id=what-do-i-mean-by-typesafe-routing>What do I mean by "typesafe routing"?<a aria-label="Anchor link for: what-do-i-mean-by-typesafe-routing" class=zola-anchor href=#what-do-i-mean-by-typesafe-routing style=visibility:hidden></a></h2><p>In a web app, one usually has a bunch of routes (let's use <em>react</em> / <em>react-router</em> as an accessible example):<pre class="language-tsx z-code" data-lang=tsx><code class=language-tsx data-lang=tsx><span class="z-source z-tsx"><span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-punctuation z-definition z-tag z-begin z-tsx"><</span><span class="z-entity z-name z-tag z-tsx"><span class="z-support z-class z-component z-tsx">Routes</span></span><span class="z-punctuation z-definition z-tag z-end z-tsx">></span></span><span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-meta z-jsx z-children z-tsx">
</span></span></span><span class="z-source z-tsx"><span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-meta z-jsx z-children z-tsx">  <span class="z-meta z-tag z-tsx"><span class="z-punctuation z-definition z-tag z-begin z-tsx"><</span><span class="z-entity z-name z-tag z-tsx"><span class="z-support z-class z-component z-tsx">Route</span></span><span class="z-meta z-tag z-attributes z-tsx"> <span class="z-entity z-other z-attribute-name z-tsx">path</span><span class="z-keyword z-operator z-assignment z-tsx">=</span><span class="z-string z-quoted z-double z-tsx"><span class="z-punctuation z-definition z-string z-begin z-tsx">"</span>dashboard<span class="z-punctuation z-definition z-string z-end z-tsx">"</span></span> <span class="z-entity z-other z-attribute-name z-tsx">element</span><span class="z-keyword z-operator z-assignment z-tsx">=</span><span class="z-punctuation z-section z-embedded z-begin z-tsx">{</span><span class="z-meta z-embedded z-expression z-tsx"><span class="z-meta z-tag z-tsx"><span class="z-punctuation z-definition z-tag z-begin z-tsx"><</span><span class="z-entity z-name z-tag z-tsx"><span class="z-support z-class z-component z-tsx">Dashboard</span></span><span class="z-meta z-tag z-attributes z-tsx"> </span><span class="z-punctuation z-definition z-tag z-end z-tsx">/></span></span></span><span class="z-punctuation z-section z-embedded z-end z-tsx">}</span></span><span class="z-punctuation z-definition z-tag z-end z-tsx">></span><span class="z-meta z-jsx z-children z-tsx">
</span></span></span></span></span><span class="z-source z-tsx"><span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-meta z-jsx z-children z-tsx"><span class="z-meta z-tag z-tsx"><span class="z-meta z-jsx z-children z-tsx">    <span class="z-meta z-tag z-tsx"><span class="z-punctuation z-definition z-tag z-begin z-tsx"><</span><span class="z-entity z-name z-tag z-tsx"><span class="z-support z-class z-component z-tsx">Route</span></span><span class="z-meta z-tag z-attributes z-tsx"> <span class="z-entity z-other z-attribute-name z-tsx">index</span> <span class="z-entity z-other z-attribute-name z-tsx">element</span><span class="z-keyword z-operator z-assignment z-tsx">=</span><span class="z-punctuation z-section z-embedded z-begin z-tsx">{</span><span class="z-meta z-embedded z-expression z-tsx"><span class="z-meta z-tag z-tsx"><span class="z-punctuation z-definition z-tag z-begin z-tsx"><</span><span class="z-entity z-name z-tag z-tsx"><span class="z-support z-class z-component z-tsx">Home</span></span><span class="z-meta z-tag z-attributes z-tsx"> </span><span class="z-punctuation z-definition z-tag z-end z-tsx">/></span></span></span><span class="z-punctuation z-section z-embedded z-end z-tsx">}</span> </span><span class="z-punctuation z-definition z-tag z-end z-tsx">/></span></span>
</span></span></span></span></span><span class="z-source z-tsx"><span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-meta z-jsx z-children z-tsx"><span class="z-meta z-tag z-tsx"><span class="z-meta z-jsx z-children z-tsx">    <span class="z-meta z-tag z-tsx"><span class="z-punctuation z-definition z-tag z-begin z-tsx"><</span><span class="z-entity z-name z-tag z-tsx"><span class="z-support z-class z-component z-tsx">Route</span></span><span class="z-meta z-tag z-attributes z-tsx"> <span class="z-entity z-other z-attribute-name z-tsx">path</span><span class="z-keyword z-operator z-assignment z-tsx">=</span><span class="z-string z-quoted z-double z-tsx"><span class="z-punctuation z-definition z-string z-begin z-tsx">"</span>teams/:teamId<span class="z-punctuation z-definition z-string z-end z-tsx">"</span></span> <span class="z-entity z-other z-attribute-name z-tsx">element</span><span class="z-keyword z-operator z-assignment z-tsx">=</span><span class="z-punctuation z-section z-embedded z-begin z-tsx">{</span><span class="z-meta z-embedded z-expression z-tsx"><span class="z-meta z-tag z-tsx"><span class="z-punctuation z-definition z-tag z-begin z-tsx"><</span><span class="z-entity z-name z-tag z-tsx"><span class="z-support z-class z-component z-tsx">Team</span></span><span class="z-meta z-tag z-attributes z-tsx"> </span><span class="z-punctuation z-definition z-tag z-end z-tsx">/></span></span></span><span class="z-punctuation z-section z-embedded z-end z-tsx">}</span> </span><span class="z-punctuation z-definition z-tag z-end z-tsx">/></span></span>
</span></span></span></span></span><span class="z-source z-tsx"><span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-meta z-jsx z-children z-tsx"><span class="z-meta z-tag z-tsx"><span class="z-meta z-jsx z-children z-tsx">  </span><span class="z-punctuation z-definition z-tag z-begin z-tsx">&LT/</span><span class="z-entity z-name z-tag z-tsx"><span class="z-support z-class z-component z-tsx">Route</span></span><span class="z-punctuation z-definition z-tag z-end z-tsx">></span></span>
</span></span></span><span class="z-source z-tsx"><span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-meta z-jsx z-children z-tsx"></span><span class="z-punctuation z-definition z-tag z-begin z-tsx">&LT/</span><span class="z-entity z-name z-tag z-tsx"><span class="z-support z-class z-component z-tsx">Routes</span></span><span class="z-punctuation z-definition z-tag z-end z-tsx">></span></span>
</span><span class="z-source z-tsx">
</span></code></pre><p>And one links to them elsewhere in the app:<pre class="language-tsx z-code" data-lang=tsx><code class=language-tsx data-lang=tsx><span class="z-source z-tsx"><span class="z-meta z-tag z-tsx"><span class="z-punctuation z-definition z-tag z-begin z-tsx"><</span><span class="z-entity z-name z-tag z-tsx"><span class="z-support z-class z-component z-tsx">Link</span></span><span class="z-meta z-tag z-attributes z-tsx"> <span class="z-entity z-other z-attribute-name z-tsx">to</span><span class="z-keyword z-operator z-assignment z-tsx">=</span><span class="z-punctuation z-section z-embedded z-begin z-tsx">{</span><span class="z-meta z-embedded z-expression z-tsx"><span class="z-string z-template z-tsx"><span class="z-punctuation z-definition z-string z-template z-begin z-tsx">`</span>/dashboard/teams/<span class="z-meta z-template z-expression z-tsx"><span class="z-punctuation z-definition z-template-expression z-begin z-tsx">${</span></span><span class="z-meta z-template z-expression z-tsx"><span class="z-meta z-embedded z-line z-tsx"><span class="z-variable z-other z-readwrite z-tsx">myTeamId</span></span><span class="z-punctuation z-definition z-template-expression z-end z-tsx">}</span></span><span class="z-punctuation z-definition z-string z-template z-end z-tsx">`</span></span></span><span class="z-punctuation z-section z-embedded z-end z-tsx">}</span></span><span class="z-punctuation z-definition z-tag z-end z-tsx">></span><span class="z-meta z-jsx z-children z-tsx">Dashboard</span><span class="z-punctuation z-definition z-tag z-begin z-tsx">&LT/</span><span class="z-entity z-name z-tag z-tsx"><span class="z-support z-class z-component z-tsx">Link</span></span><span class="z-punctuation z-definition z-tag z-end z-tsx">></span></span>
</span></code></pre><p>Also, one can access the <code>teamId</code> "route param" in the <code>Team</code> component by doing something like:<pre class="language-tsx z-code" data-lang=tsx><code class=language-tsx data-lang=tsx><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-storage z-type z-function z-tsx">function</span> <span class="z-meta z-definition z-function z-tsx"><span class="z-entity z-name z-function z-tsx">Team</span></span><span class="z-meta z-parameters z-tsx"><span class="z-punctuation z-definition z-parameters z-begin z-tsx">(</span><span class="z-punctuation z-definition z-parameters z-end z-tsx">)</span></span> <span class="z-meta z-block z-tsx"><span class="z-punctuation z-definition z-block z-tsx">{</span>
</span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx">  <span class="z-meta z-var z-expr z-tsx"><span class="z-storage z-type z-tsx">let</span> <span class="z-meta z-var-single-variable z-expr z-tsx"><span class="z-meta z-definition z-variable z-tsx"><span class="z-variable z-other z-readwrite z-tsx">teamId</span></span> </span><span class="z-keyword z-operator z-assignment z-tsx">=</span> <span class="z-meta z-function-call z-tsx"><span class="z-entity z-name z-function z-tsx">useParams</span></span><span class="z-meta z-brace z-round z-tsx">(</span><span class="z-meta z-brace z-round z-tsx">)</span><span class="z-punctuation z-accessor z-tsx">.</span><span class="z-variable z-other z-property z-tsx">teamId</span></span><span class="z-punctuation z-terminator z-statement z-tsx">;</span> <span class="z-comment z-line z-double-slash z-tsx"><span class="z-punctuation z-definition z-comment z-tsx">//</span></span><span class="z-comment z-line z-double-slash z-tsx"> Will have `string | undefined` type.</span>
</span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx"><span class="z-punctuation z-definition z-block z-tsx">}</span></span></span>
</span></code></pre><p>As is, the above doesn't provide type safety that prevents:<ol><li>Construction of invalid URLs (when, for example, code constructing URLs becoming stale after restructuring routes).<li>Accessing non-existent route params.</ol><p><em>react-router</em> has a solution to this via <a rel="nofollow noreferrer" href=https://reactrouter.com/how-to/route-module-type-safety>code generation</a>. <a rel="nofollow noreferrer" href=https://tanstack.com/router/latest><code>tanstack/router</code></a>, a more modern routing solution in TS-land, was built with type-safety front of mind.<p>I'm working on a web app using the <em>leptos</em> full-stack framework in Rust. And the <a rel="nofollow noreferrer" href=https://book.leptos.dev/router/16_routes.html>builtin routing solution</a> has no type-safety facilities. So I took a shot at prototyping one.<h2 id=an-explainer-on-outlets-layouts>An explainer on <em>outlets</em>/<em>layouts</em><a aria-label="Anchor link for: an-explainer-on-outlets-layouts" class=zola-anchor href=#an-explainer-on-outlets-layouts style=visibility:hidden></a></h2><p>In addition to the two goals of type-safe routing above, I also wanted my prototype to tackle:<ol start=3><li>Type-safe passing of arguments to <em>outlets</em>.</ol><p>Going back to the <em>react-router</em> example from up top, notice how the URL <code>/dashboard/teams/:teamId</code> would match both the <code>&LTDashboard /></code> element specified on line 2 above, and the <code>&LTTeam /></code> element specified on line 4? How that plays out is that the <code>Dashboard</code> component would have to be defined in the following manner:<pre class="language-tsx z-code" data-lang=tsx><code class=language-tsx data-lang=tsx><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-storage z-type z-function z-tsx">function</span> <span class="z-meta z-definition z-function z-tsx"><span class="z-entity z-name z-function z-tsx">Dashboard</span></span><span class="z-meta z-parameters z-tsx"><span class="z-punctuation z-definition z-parameters z-begin z-tsx">(</span><span class="z-punctuation z-definition z-parameters z-end z-tsx">)</span></span> <span class="z-meta z-block z-tsx"><span class="z-punctuation z-definition z-block z-tsx">{</span>
</span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx">    <span class="z-keyword z-control z-flow z-tsx">return</span> <span class="z-meta z-brace z-round z-tsx">(</span>
</span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx">        <span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-punctuation z-definition z-tag z-begin z-tsx"><</span><span class="z-entity z-name z-tag z-tsx">div</span><span class="z-punctuation z-definition z-tag z-end z-tsx">></span></span><span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-meta z-jsx z-children z-tsx">
</span></span></span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx"><span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-meta z-jsx z-children z-tsx">            <span class="z-punctuation z-section z-embedded z-begin z-tsx">{</span><span class="z-meta z-embedded z-expression z-tsx">
</span></span></span></span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx"><span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-meta z-jsx z-children z-tsx"><span class="z-meta z-embedded z-expression z-tsx"><span class="z-punctuation z-whitespace z-comment z-leading z-tsx">                </span><span class="z-comment z-line z-double-slash z-tsx"><span class="z-punctuation z-definition z-comment z-tsx">//</span></span><span class="z-comment z-line z-double-slash z-tsx"> Stuff that's common to everything that gets rendered</span>
</span></span></span></span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx"><span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-meta z-jsx z-children z-tsx"><span class="z-meta z-embedded z-expression z-tsx"><span class="z-punctuation z-whitespace z-comment z-leading z-tsx">                </span><span class="z-comment z-line z-double-slash z-tsx"><span class="z-punctuation z-definition z-comment z-tsx">//</span></span><span class="z-comment z-line z-double-slash z-tsx"> under /dashboard/ </span>
</span></span></span></span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx"><span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-meta z-jsx z-children z-tsx"><span class="z-meta z-embedded z-expression z-tsx">
</span></span></span></span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx"><span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-meta z-jsx z-children z-tsx"><span class="z-meta z-embedded z-expression z-tsx">            </span><span class="z-punctuation z-section z-embedded z-end z-tsx">}</span>
</span></span></span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx"><span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-meta z-jsx z-children z-tsx">            <span class="z-meta z-tag z-tsx"><span class="z-punctuation z-definition z-tag z-begin z-tsx"><</span><span class="z-entity z-name z-tag z-tsx"><span class="z-support z-class z-component z-tsx">Outlet</span></span><span class="z-meta z-tag z-attributes z-tsx"> </span><span class="z-punctuation z-definition z-tag z-end z-tsx">/></span></span>
</span></span></span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx"><span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-meta z-jsx z-children z-tsx">        </span><span class="z-punctuation z-definition z-tag z-begin z-tsx">&LT/</span><span class="z-entity z-name z-tag z-tsx">div</span><span class="z-punctuation z-definition z-tag z-end z-tsx">></span></span>
</span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx">    <span class="z-meta z-brace z-round z-tsx">)</span>
</span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx"><span class="z-punctuation z-definition z-block z-tsx">}</span></span></span>
</span></code></pre><p><em>react-router</em> would then render the <code>&LTTeam /></code> element at the spot that <code>&LTOutlet /></code> was invoked in the structure that <code>Dashboard</code> returns. <code>Dashboard</code> is often referred to as the <em>layout component</em> in this scenario.<p>What if one wanted to pass an argument to the <code>Team</code> component from <code>Dashboard</code>? In <em>react-router,</em> one would have to do:<pre class="language-typescriptreact z-code" data-lang=typescriptreact><code class=language-typescriptreact data-lang=typescriptreact><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-storage z-type z-function z-tsx">function</span> <span class="z-meta z-definition z-function z-tsx"><span class="z-entity z-name z-function z-tsx">Dashboard</span></span><span class="z-meta z-parameters z-tsx"><span class="z-punctuation z-definition z-parameters z-begin z-tsx">(</span><span class="z-punctuation z-definition z-parameters z-end z-tsx">)</span></span> <span class="z-meta z-block z-tsx"><span class="z-punctuation z-definition z-block z-tsx">{</span>
</span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx">    <span class="z-keyword z-control z-flow z-tsx">return</span> <span class="z-meta z-brace z-round z-tsx">(</span>
</span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx">        <span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-punctuation z-definition z-tag z-begin z-tsx"><</span><span class="z-entity z-name z-tag z-tsx">div</span><span class="z-punctuation z-definition z-tag z-end z-tsx">></span></span><span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-meta z-jsx z-children z-tsx">
</span></span></span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx"><span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-meta z-jsx z-children z-tsx">            <span class="z-punctuation z-section z-embedded z-begin z-tsx">{</span><span class="z-meta z-embedded z-expression z-tsx">
</span></span></span></span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx"><span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-meta z-jsx z-children z-tsx"><span class="z-meta z-embedded z-expression z-tsx"><span class="z-punctuation z-whitespace z-comment z-leading z-tsx">                </span><span class="z-comment z-line z-double-slash z-tsx"><span class="z-punctuation z-definition z-comment z-tsx">//</span></span><span class="z-comment z-line z-double-slash z-tsx"> Stuff that's common to everything that gets rendered</span>
</span></span></span></span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx"><span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-meta z-jsx z-children z-tsx"><span class="z-meta z-embedded z-expression z-tsx"><span class="z-punctuation z-whitespace z-comment z-leading z-tsx">                </span><span class="z-comment z-line z-double-slash z-tsx"><span class="z-punctuation z-definition z-comment z-tsx">//</span></span><span class="z-comment z-line z-double-slash z-tsx"> under /dashboard/ </span>
</span></span></span></span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx"><span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-meta z-jsx z-children z-tsx"><span class="z-meta z-embedded z-expression z-tsx">            </span><span class="z-punctuation z-section z-embedded z-end z-tsx">}</span>
</span></span></span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx"><span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-meta z-jsx z-children z-tsx">            <span class="z-meta z-tag z-tsx"><span class="z-punctuation z-definition z-tag z-begin z-tsx"><</span><span class="z-entity z-name z-tag z-tsx"><span class="z-support z-class z-component z-tsx">Outlet</span></span><span class="z-meta z-tag z-attributes z-tsx"> <span class="z-entity z-other z-attribute-name z-tsx">context</span><span class="z-invalid z-illegal z-attribute z-tsx">=someContextValue</span> </span><span class="z-punctuation z-definition z-tag z-end z-tsx">/></span></span>
</span></span></span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx"><span class="z-meta z-tag z-without-attributes z-tsx"><span class="z-meta z-jsx z-children z-tsx">        </span><span class="z-punctuation z-definition z-tag z-begin z-tsx">&LT/</span><span class="z-entity z-name z-tag z-tsx">div</span><span class="z-punctuation z-definition z-tag z-end z-tsx">></span></span>
</span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx">    <span class="z-meta z-brace z-round z-tsx">)</span>
</span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx"><span class="z-punctuation z-definition z-block z-tsx">}</span></span></span>
</span><span class="z-source z-tsx">
</span><span class="z-source z-tsx"><span class="z-comment z-line z-double-slash z-tsx"><span class="z-punctuation z-definition z-comment z-tsx">//</span></span><span class="z-comment z-line z-double-slash z-tsx"> And then:</span>
</span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-storage z-type z-function z-tsx">function</span> <span class="z-meta z-definition z-function z-tsx"><span class="z-entity z-name z-function z-tsx">Team</span></span><span class="z-meta z-parameters z-tsx"><span class="z-punctuation z-definition z-parameters z-begin z-tsx">(</span><span class="z-punctuation z-definition z-parameters z-end z-tsx">)</span></span> <span class="z-meta z-block z-tsx"><span class="z-punctuation z-definition z-block z-tsx">{</span>
</span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx"><span class="z-punctuation z-whitespace z-comment z-leading z-tsx">    </span><span class="z-comment z-line z-double-slash z-tsx"><span class="z-punctuation z-definition z-comment z-tsx">//</span></span><span class="z-comment z-line z-double-slash z-tsx"> The type here would be `unknown | undefined` unless specifies</span>
</span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx"><span class="z-punctuation z-whitespace z-comment z-leading z-tsx">    </span><span class="z-comment z-line z-double-slash z-tsx"><span class="z-punctuation z-definition z-comment z-tsx">//</span></span><span class="z-comment z-line z-double-slash z-tsx"> the type like `useOutletContext&LTOutletContextType>()`. In that</span>
</span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx"><span class="z-punctuation z-whitespace z-comment z-leading z-tsx">    </span><span class="z-comment z-line z-double-slash z-tsx"><span class="z-punctuation z-definition z-comment z-tsx">//</span></span><span class="z-comment z-line z-double-slash z-tsx"> case, it'd be up to the user (and not the type-checker) to</span>
</span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx"><span class="z-punctuation z-whitespace z-comment z-leading z-tsx">    </span><span class="z-comment z-line z-double-slash z-tsx"><span class="z-punctuation z-definition z-comment z-tsx">//</span></span><span class="z-comment z-line z-double-slash z-tsx"> ensure that `someContextValue` actually has the</span>
</span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx"><span class="z-punctuation z-whitespace z-comment z-leading z-tsx">    </span><span class="z-comment z-line z-double-slash z-tsx"><span class="z-punctuation z-definition z-comment z-tsx">//</span></span><span class="z-comment z-line z-double-slash z-tsx"> `OutletContextType` type.</span>
</span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx">    <span class="z-meta z-var z-expr z-tsx"><span class="z-storage z-type z-tsx">let</span> <span class="z-meta z-var-single-variable z-expr z-tsx"><span class="z-meta z-definition z-variable z-tsx"><span class="z-variable z-other z-readwrite z-tsx">outletContext</span></span> </span><span class="z-keyword z-operator z-assignment z-tsx">=</span> <span class="z-meta z-function-call z-tsx"><span class="z-entity z-name z-function z-tsx">useOutletContext</span></span><span class="z-meta z-brace z-round z-tsx">(</span><span class="z-meta z-brace z-round z-tsx">)</span></span><span class="z-punctuation z-terminator z-statement z-tsx">;</span>
</span></span></span><span class="z-source z-tsx"><span class="z-meta z-function z-tsx"><span class="z-meta z-block z-tsx"><span class="z-punctuation z-definition z-block z-tsx">}</span></span></span>
</span></code></pre><p>One can do something similar in <em>leptos</em> via contexts (with a higher degree of type-safety). But for a while, I thought <a rel="nofollow noreferrer" href=https://github.com/leptos-rs/leptos/discussions/3390>a bug</a> meant I couldn't apply a similar solution for my own specific use-case. But it turns out that I was <a rel="nofollow noreferrer" href=https://discord.com/channels/1031524867910148188/1031525141382959175/1327722560137461861>holding it wrong</a>. In any case, I ended up working towards the passing of arguments to outlets as a third goal for my routing prototype.<h2 id=what-does-the-type-safe-routing-for-leptos-prototype-look-like>What does the "type-safe routing for <em>leptos</em>" prototype look like?<a aria-label="Anchor link for: what-does-the-type-safe-routing-for-leptos-prototype-look-like" class=zola-anchor href=#what-does-the-type-safe-routing-for-leptos-prototype-look-like style=visibility:hidden></a></h2><h3 id=defining-routes>Defining routes<a aria-label="Anchor link for: defining-routes" class=zola-anchor href=#defining-routes style=visibility:hidden></a></h3><p>One defines routes like so (note: <em>zwang</em> is just the name of the routing solution I came up with):<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-support z-macro z-rust">zwang_routes!</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    fallback<span class="z-punctuation z-separator z-rust">:</span> NotFound<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    view<span class="z-punctuation z-separator z-rust">:</span> Sidebar<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    children<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">            path<span class="z-punctuation z-separator z-rust">:</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>/auth<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">            view<span class="z-punctuation z-separator z-rust">:</span> Auth
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">            path<span class="z-punctuation z-separator z-rust">:</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>/{owner_name}<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">            layout<span class="z-punctuation z-separator z-rust">:</span> Sidebar<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">            children<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">                <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">                    path<span class="z-punctuation z-separator z-rust">:</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>/{repo_name}<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">                    layout<span class="z-punctuation z-separator z-rust">:</span> RepositoryPage<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">                    view<span class="z-punctuation z-separator z-rust">:</span> IssuesList<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">                    will_pass<span class="z-punctuation z-separator z-rust">:</span> RepositoryId<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">                    children<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span>
</span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">                        <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">                            path<span class="z-punctuation z-separator z-rust">:</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>/pulls<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">                            view<span class="z-punctuation z-separator z-rust">:</span> PullRequestsTab
</span></span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">                        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">                        <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">                            path<span class="z-punctuation z-separator z-rust">:</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>/issues<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">                            will_pass<span class="z-punctuation z-separator z-rust">:</span> RepositoryId<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">                            view<span class="z-punctuation z-separator z-rust">:</span> IssuesList<span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">                            children<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span>
</span></span></span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">                                <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">                                    path<span class="z-punctuation z-separator z-rust">:</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>/new<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">                                    view<span class="z-punctuation z-separator z-rust">:</span> NewIssue
</span></span></span></span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">                                </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">                                <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">                                    path<span class="z-punctuation z-separator z-rust">:</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>/{issue_number}<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">                                    view<span class="z-punctuation z-separator z-rust">:</span> OneIssue
</span></span></span></span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">                                </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">                            <span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">                        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">                    <span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">                </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">            <span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">    <span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></code></pre><h3 id=constructing-type-checked-urls>Constructing type-checked URLs<a aria-label="Anchor link for: constructing-type-checked-urls" class=zola-anchor href=#constructing-type-checked-urls style=visibility:hidden></a></h3><pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> owner_name <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>google<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> repo_name <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>material-design-icons<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-support z-macro z-rust">zwang_url!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">"</span>/owner_name={google}/repo_name={repo_name}/issues/issue_number=1<span class="z-punctuation z-definition z-string z-end z-rust">"</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></code></pre><h3 id=type-safe-access-to-route-params>Type-safe access to route params<a aria-label="Anchor link for: type-safe-access-to-route-params" class=zola-anchor href=#type-safe-access-to-route-params style=visibility:hidden></a></h3><pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">IssuesList</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">params</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">RouteParams<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>ParamsOwnerNameRepoName<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> impl IntoView</span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span> 
</span></code></pre><p>The <code>ParamsOwnerNameRepoName</code> is a struct created by the <code>zwang_routes!</code> macro. The rule of how the name is constructed is that the name of every route param available is pascal-cased, alphabetized, and then concatenated (your IDE will helpfully show it in autocomplete).<p>If, for instance, we tried to access the <code>issue_number</code> route param at <code>IssueList</code> (which doesn't make sense since none of the routes that <code>IssueList</code> gets rendered at include such a param, we'd get a compiler error):<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">IssuesList</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">params</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">RouteParams<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>ParamsIssueNumberOwnerNameRepoName<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> impl IntoView</span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span> 
</span></code></pre><h3 id=passing-arguments-to-outlets>Passing arguments to <em>outlets</em><a aria-label="Anchor link for: passing-arguments-to-outlets" class=zola-anchor href=#passing-arguments-to-outlets style=visibility:hidden></a></h3><p>See the lines that say <code>will_pass: RepositoryId</code> in the route specification above? They indicate to the <code>zwang_routes!</code> macro that the component will pass an argument of said type. Therefore, the <em>layout</em> component can take an argument like:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">RepositoryPage</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">outlet</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Outlet<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>RepositoryId, impl IntoView <span class="z-keyword z-operator z-rust">+</span> <span class="z-storage z-modifier z-lifetime z-rust">'static</span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> impl IntoView</span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> repository_id <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-support z-function z-rust">get_repository_id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> or something.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-support z-macro z-rust">view!</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> the leptos macro for "JSX-in-rust"
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-operator z-comparison z-rust"><</span>div<span class="z-keyword z-operator z-comparison z-rust">></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>outlet<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">call</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>repository_id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-operator z-comparison z-rust"><</span><span class="z-keyword z-operator z-arithmetic z-rust">/</span>div<span class="z-keyword z-operator z-comparison z-rust">></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>And then the <em>outlet</em> component can receive that argument as follows:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">IssuesList</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">repository_id</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">ArgFromLayout<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>RepositoryId<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> impl IntoView</span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">  <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><p>We make use of <a rel="nofollow noreferrer" href=https://lunatic.solutions/blog/magic-handler-functions-in-rust/><em>axum</em>-style "magic handler functions"</a>, and so a component that we hook up in our routes can decide to take as few or as many of the "magic arguments" that we talked about above. For example:<pre class="language-rust z-code" data-lang=rust><code class=language-rust data-lang=rust><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">IssuesList</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">params</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">RouteParams<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>ParamsOwnerNameRepoName<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">repository_id</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">ArgFromLayout<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span><span class="z-meta z-generic z-rust">Signal<span class="z-punctuation z-definition z-generic z-begin z-rust"><</span>RepositoryId<span class="z-punctuation z-definition z-generic z-end z-rust">></span></span><span class="z-punctuation z-definition z-generic z-end z-rust">></span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-></span> impl IntoView</span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre><h2 id=fundamental-shortcomings-of-approach>Fundamental shortcomings of approach<a aria-label="Anchor link for: fundamental-shortcomings-of-approach" class=zola-anchor href=#fundamental-shortcomings-of-approach style=visibility:hidden></a></h2><p>Given the approach I outlined above, I think the following are fundamental limitations unlikely to be improved with further work:<ol><li><strong>Macro magic</strong>: In general, I'm given to like complex macros like <code>zwang_routes!</code> only if I wrote them in the first place, because it's often only then that I transparently understand how they work.<li><strong>Trait magic</strong>: The <em>axum</em>-style magic functions work with trait magic. And debugging why trait-level logic is rejecting whatever you're trying to pass it is challenging enough that <em>axum</em> came up with a <a rel="nofollow noreferrer" href=https://docs.rs/axum/latest/axum/attr.debug_handler.html>macro annotation</a> to help with it.</ol></article></div><footer><div class=copyright><p> 2025 Dnaaun</div><div class=credits>powered by <a rel="noreferrer noopener" href=https://www.getzola.org target=_blank>zola</a> and <a rel="noreferrer noopener" href=https://github.com/isunjn/serene target=_blank>serene</a></div></footer></main></div><script src=/js/lightense.min.js></script><script src=/js/main.js></script>